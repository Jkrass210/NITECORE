import{openDrop}from"./module/openDrop.js";import{activateTab}from"./module/activateTab.js";import{updateActiveContent,setupCatalogButtons}from"./module/dropDownCatalog.js";import{openMenu}from"./module/openMenu.js";import{testWebP}from"./module/testWebP.js";if(testWebP(function(e){1==e?(document.querySelector("body").classList.add("webp"),console.log("выполнился webp")):document.querySelector("body").classList.add("no-webp")}),document.querySelectorAll(".drop-down-btn")){document.querySelectorAll(".drop-down-btn").forEach(e=>{e.addEventListener("click",()=>{openDrop(e,".drop-down-item")})})}if(document.querySelector("#swiper-1")){new Swiper("#swiper-1",{slidesPerView:2,spaceBetween:20,freeMode:!1,breakpoints:{570:{slidesPerView:3,spaceBetween:20},1090:{slidesPerView:4,spaceBetween:20}},navigation:{prevEl:".main-sec5__button-next",nextEl:".main-sec5__button-prev"}})}if(document.querySelector("#swiper-2")){new Swiper("#swiper-2",{slidesPerView:2,spaceBetween:20,freeMode:!1,breakpoints:{570:{slidesPerView:3,spaceBetween:20},1090:{slidesPerView:4,spaceBetween:20}},navigation:{prevEl:".main-sec4__button-next",nextEl:".main-sec4__button-prev"}})}if(document.querySelector("#swiper-3")){new Swiper("#swiper-3",{slidesPerView:1,spaceBetween:20,freeMode:!1,breakpoints:{650:{slidesPerView:2,spaceBetween:20},980:{slidesPerView:3,spaceBetween:20},1380:{slidesPerView:4,spaceBetween:20}},navigation:{prevEl:".main-sec3__button-next",nextEl:".main-sec3__button-prev"}})}if(document.querySelector("#swiper-8")&&document.querySelector("#swiper-4")){const e=new Swiper("#swiper-4",{slidesPerView:1,spaceBetween:0,freeMode:!1,reverseDirection:!0}),t=new Swiper("#swiper-8",{slidesPerView:1,spaceBetween:0,freeMode:!1,pagination:{el:".main-sec1__swiper-pagination",clickable:!0}});e.controller.control=t,t.controller.control=e}function initSwiper5(){if(document.querySelector("#swiper-5")&&document.querySelector("#swiper-6")){const e=new Swiper("#swiper-6",{spaceBetween:10,slidesPerView:5,freeMode:!1});new Swiper("#swiper-5",{spaceBetween:10,navigation:{nextEl:".product-card-sec1__button-next",prevEl:".product-card-sec1__button-prev"},thumbs:{swiper:e}})}}if(document.querySelector(".product-card-sec1__info")){document.querySelector(".product-card-sec1__info").querySelectorAll(".btn6").forEach(e=>{e.addEventListener("click",()=>{activateTab(e.id,"btn6","product-card-sec1__info")})})}if(document.querySelector(".drop-down-catalog")&&setupCatalogButtons(),document.querySelector("#dropCatalog")&&document.querySelector('[data-window-id="dropCatalog"]')&&openMenu("dropCatalog"),document.querySelector("#burgerMenu")&&document.querySelector('[data-window-id="burgerMenu"]')&&openMenu("burgerMenu",!0),document.querySelector("#swiper-7")){let e;function initSwiper(){e=new Swiper("#swiper-7",{slidesPerView:1,spaceBetween:20,breakpoints:{640:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:20}}})}function destroySwiper(){e&&(e.destroy(!0,!0),e=null)}function handleResize(){window.innerWidth<1030&&!e?initSwiper():window.innerWidth>=1030&&e&&destroySwiper()}handleResize(),window.addEventListener("resize",handleResize)}function initializeSwiperSwitcher({buttonListSelector:e,swiperContainerId:t,newBlockSelector:r}){const o=document.querySelector(e),n=document.getElementById(t),i=document.querySelector(r),c=e=>{console.log("Индекс для обновления Swiper:",e);const t=i.querySelectorAll(".swiper-wrapper-6");console.log("Все списки ul:",t);const r=t[e];if(r){n.innerHTML="";const t=r.cloneNode(!0);n.appendChild(t),initSwiper5(),console.log(`Список с индексом ${e} вставлен.`)}else console.error(`Список с индексом ${e} не найден.`)};o.addEventListener("click",e=>{console.log("Клик по кнопке");const t=e.target.closest(".product-card-sec1__btn-fasteners");if(!t)return;const r=t.closest("li"),n=Array.from(o.children).indexOf(r);console.log("Индекс выбранного элемента:",n),o.querySelectorAll("li").forEach(e=>e.classList.remove("selected")),r.classList.add("selected"),c(n)});const s=Array.from(o.children).findIndex(e=>e.classList.contains("selected"));-1!==s?(console.log("При загрузке найден элемент с индексом:",s),c(s)):console.warn("Нет элемента с классом selected при загрузке.")}!document.querySelector(".new_block")&&document.querySelector("#swiper-6")?initSwiper5():document.querySelector(".new_block")&&document.querySelector("#swiper-6")&&document.addEventListener("DOMContentLoaded",()=>{document.querySelector(".product-card-sec1__equipment-list-1")&&document.querySelector("#swiper-6")&&document.querySelector(".new_block")&&initializeSwiperSwitcher({buttonListSelector:".product-card-sec1__equipment-list-1",swiperContainerId:"swiper-6",newBlockSelector:".new_block"})});